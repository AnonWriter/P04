#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include <unistd.h> // En cuanto a esta libreria, tendras que cambiarla por windows.h para utilizar el sleep de windows y no usleep para mi

#include "../libs/simulaciones.h"
#include "../libs/ej/TADColaDin.h"

void Simulacion_2(char *arg1){
	// Recibir argumentos
	int c_proc = atoi(arg1);

	// Crear las colas
	cola Listos;
	cola Terminados;

	Initialize(&Listos);
	Initialize(&Terminados);


	elemento aux;

	// Pedir los datos del proceso i
	for (int i = 0; i < c_proc; i++){
		fgets(aux.p.nombre, 50, stdin);
		fgets(aux.p.actividad, 200, stdin);
		scanf("%d", &aux.p.id);
		scanf("%d", &aux.p.tiempo);
		Queue(&Listos, aux);
	}

	//parte de atencion
	elemento actual_proc;
	while(!Empty(&Listos))[
		actual_proc = Dequeue(&Listos);
		actual_proc.p.tiempo -= 1;
		usleep(TIEMPO_BASE * QUANTUM);

		actual_proc.p.tiempo_real += Size(&Listos);
	}

}

